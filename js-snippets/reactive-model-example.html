<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="./reactive-model.js"></script>
  </head>
  <body>
    <div id="app"></div>
    <div id="app1"></div>
    <div id="timer"></div>
    <script>
      const [value, updater, addSubscriber] = getState(0)

      const [counter, setCounter, addSubscriberForCounter] = getState(50)

      addSubscriber((data) => `value: ${data}`, "app")

      addSubscriberForCounter(
        (data) => `Counter : ${data} <button id='btn'>Counter</button>`,
        "app1",
        [
          {
            id: "btn",
            event: "click",
            method: function () {
              setCounter(counter.value + 5)
            },
          },
        ]
      )

      updater(value.value + 1)

      setCounter(counter.value + 5)

      const [timer, setTimer, addSubscriberForTimer] = getState(new Date())
      addSubscriberForTimer((data) => `Timer : ${data.toString()} `, "timer")

      setInterval(() => {
        setTimer(new Date())
      }, 0)
    </script>
  </body>
</html>
